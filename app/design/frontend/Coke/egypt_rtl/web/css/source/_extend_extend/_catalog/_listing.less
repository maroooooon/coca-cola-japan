//
//  Common
//  _____________________________________________

& when (@media-common = true) {
    .product {
        &-item {
            &:nth-child(2n + 1) {
                margin-left: 2%;
            }

            &:nth-child(2n) {
                margin-left: 0;
            }
        }
    }
}

//
//  Mobile
//  _____________________________________________

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__s) {
    .page-products,
    .page-layout-1column,
    .page-layout-3columns,
    .page-products.page-layout-1column,
    .page-products.page-layout-3columns {
        .products-grid {
            .product-item {
                &:nth-child(3n + 1) {
                    margin-left: 2%;
                }
                &:nth-child(2n) {
                    margin-left: 2%;
                }
                &:nth-child(3n) {
                    margin-left: 0;
                }
            }
        }
    }
}

//
//  Desktop
//  _____________________________________________

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__m) {
    .page-products {
        .products-grid {
            .product-item {
                &:nth-child(3n + 1) {
                    margin-left: 2%;
                }
                &:nth-child(3n) {
                    margin-left: 0;
                }
            }
        }
    }

    .page-layout-2columns-left{
        .column.main{
            float: left;
        }

        .sidebar-main,
        .sidebar-additional{
            float: right;
            clear: right;
            padding-right: 0;
            padding-left: 2%;
        }
    }

    .products.wrapper {
        ~ .toolbar {
            .pages{
                float: right;
            }

            .limiter{
                float: left;
            }
        }
    }
}

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__l) {
    .page-products {
        .products-grid {
            .product-item {
                &:nth-child(3n + 1) {
                    margin-left: 2%;
                }

                &:nth-child(4n + 1) {
                    margin-left: 2%;
                }

                &:nth-child(3n) {
                    margin-left: 2%;
                }

                &:nth-child(4n) {
                    margin-left: 0;
                }
            }
        }
    }
}
